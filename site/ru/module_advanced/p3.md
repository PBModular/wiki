# üîÉ –ö–æ–ª–±–µ–∫-—Ñ—É–Ω–∫—Ü–∏–∏

–ú–æ–¥—É–ª—å –∏–º–µ–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–ª–±–µ–∫ —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –ø–æ –º–µ—Ä–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:

- `def on_init` - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ Stage2, –∏–∑-–∑–∞ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞–ª–∏—á–∏–µ –ë–î –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è
- `async def on_db_ready` - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –∂–µ –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î, –ø–æ–ª–µ–∑–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ë–î —Å—Ä–∞–∑—É –∂–µ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞

–ê —Ç–∞–∫ –∂–µ –ø—Ä–∏ –≤—ã–≥—Ä—É–∑–∫–µ:

- `def on_unload` - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ –≤—ã–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ). –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ –≤–∞—à–µ–º –º–æ–¥—É–ª–µ, —á—Ç–æ–±—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ –∑–∞–≤–µ—Ä—à–∞—Ç—å –≤—Å–µ —Ü–∏–∫–ª—ã —Å–æ–±—ã—Ç–∏–π (–∏–ª–∏ –¥—Ä—É–≥–∏–µ –∑–∞–¥–∞—á–∏), –∏–Ω–∞—á–µ –µ—Å—Ç—å —Ä–∏—Å–∫ –∏—Ö —É—Ç–µ—á–∫–∏ –≤ –ø–∞–º—è—Ç—å

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

```python
async def on_db_ready(self):
    async with self.db.session_maker() as session:
        # load chat states from database
```
